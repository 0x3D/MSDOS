jobs:
  include:
    - language: java
      before_install:
        - "cd javaserver"
        - "mvn --version"
      install:
        - "./mvnw install -DskipTests=true -Dmaven.javadoc.skip=true -B -V" 
      script:
        - "./mvnw test -B"
      after_script:
        - "cd .."

    - language: node_js
      node_js: 
        - stable
      before_install:
        - "node --version"
        - "npm --version"
        - "nvm --version"
      install: 
        - "npm install --legacy-peer-deps"
      before_script:
        - "cd javaserver"
        - "./mvnw spring-boot:run &"
        - "cd .."
      script: 
        - "npm test"
        - "npm run build"
      #arch: amd64          # optional, this is default, routes to a full VM
      #os: linux            # optional, this is default
      #dist: focal          # or bionic | xenial | trusty | precise with xenial as default

